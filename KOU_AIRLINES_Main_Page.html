<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOU AIRLINES Main Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    
    
    <link rel="stylesheet" href="KOU_AIRLINES_Main_Page.css">
</head>
<body>
    <header class="header">
        <nav>
            <a href="KOU_AIRLINES_Main_Page.html" class="containerh">
                <img src="Images/flight_takeoff_FILL0_wght400_GRAD0_opsz24.png" alt="Icon">
                <h2 style="margin: 0;">KOU AIRLINES</h2>
            </a>
        </nav>
    </header>
    <section id="main">
        <div class="div">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="From" list="list-timezone-from" id="input-datalist-from">
                            <datalist id="list-timezone-from"></datalist>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="To" list="list-timezone-to" id="input-datalist-to">
                            <datalist id="list-timezone-to"></datalist>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group">
                            <div class="input-group date" id="datepicker" data-target-input="nearest" style="width: 250px;">
                                <input type="text" class="form-control datetimepicker-input" data-target="#datepicker" placeholder="Date">
                                <div class="input-group-append" data-target="#datepicker" data-toggle="datetimepicker">
                                    <div class="input-group-text"><i class="fas fa-calendar-alt"></i></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="input-group" style="width: 230px;">
                            <div class="input-group-prepend">
                                <span class="input-group-text">Customer</span>
                            </div>
                            <input type="text" class="form-control" id="numberInput" value="0">
                            <div class="input-group-append">
                                <button class="btn btn-outline-secondary" type="button" id="minusBtn"><i class="fas fa-minus"></i></button>
                                <button class="btn btn-outline-secondary" type="button" id="plusBtn"><i class="fas fa-plus"></i></button>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <button id="searchButton" class="btn btn-outline-primary" style="width: 100px;">Search</button>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <footer>
        <div class="divf">
            <p id="kou">Kocaeli University Airlines Official Website</p>
            <br>
            <p id="rights">Kocaeli University Airlines Copyright © 2022 - 2024</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js"></script>
   
    
    
    
    
    
 
    <script>
        fetch('http://localhost:3000/users')
            .then(response => response.json())
            .then(users => {
                const datalistFrom = document.getElementById('list-timezone-from');
                const datalistTo = document.getElementById('list-timezone-to');

                users.forEach(item => {
                    // add From datalist
                    const optionFrom = document.createElement('option');
                    optionFrom.value = `${item.airport_name} (${item.airportsid})`;
                    datalistFrom.appendChild(optionFrom);

                    // add To datalist
                    const optionTo = document.createElement('option');
                    optionTo.value = `${item.airport_name} (${item.airportsid})`;
                    datalistTo.appendChild(optionTo);
                });
            })
            .catch(error => {
                console.error('No data:', error);
            });


        $(document).ready(function() {
    function updateDisplay(value) {
        $('#numberInput').val(value);
    }

    $('#plusBtn').click(function() {
        var value = parseInt($('#numberInput').val());
        updateDisplay(value + 1);
    });

    $('#minusBtn').click(function() {
        var value = parseInt($('#numberInput').val());
        if (value > 0) {
            updateDisplay(value - 1);
        }
    });

    updateDisplay(0);
});


        
$(function () {
            $('#datepicker').datetimepicker({
                format: 'ddd MM/DD/YYYY', 
                icons: {
                    time: false,
                    date: true,
                    up: false,
                    down: false,
                    previous: 'fas fa-chevron-left',
                    next: 'fas fa-chevron-right',
                    today: 'fas fa-calendar-check',
                    clear: 'fas fa-trash-alt',
                    close: 'fas fa-times'
                }
            });
        });
        

        
        
    </script>
    
    <script>
        
        const inputFrom = document.getElementById('input-datalist-from');
        const inputTo = document.getElementById('input-datalist-to');

        inputFrom.addEventListener('input', (event) => {
            const selectedValueFrom = event.target.value;
            console.log('From seçimi:', selectedValueFrom);
            
        });

        inputTo.addEventListener('input', (event) => {
            const selectedValueTo = event.target.value;
            console.log('To seçimi:', selectedValueTo);
        });
    </script>
    <script>
        
        //ALERT
        function validateForm() {
            var from = document.getElementById('input-datalist-from').value;
            var to = document.getElementById('input-datalist-to').value;
            var date = document.getElementById('datepicker').value;
            var customer = document.getElementById('numberInput').value;

            if (from === '' || to === '' || date === '' || customer === '0') {
                alert('Please provide all required information for your flight by filling out all necessary fields.');
                return false;
            }

            return true;
        }
        

        // SEARCH BUTTON
document.getElementById('searchButton').addEventListener('click', function() {
    if (validateForm()) {
        var from = document.getElementById('input-datalist-from').value;
        var to = document.getElementById('input-datalist-to').value;
        var date = document.getElementById('datepicker').value;
        var customer = document.getElementById('numberInput').value;

        
        //Save the Choices in localStorage
        localStorage.setItem('selectedFrom', from);
        localStorage.setItem('selectedTo', to);
        localStorage.setItem('selectedDate', date);
        localStorage.setItem('selectedCusNum', customer);

        window.location.href = 'Flights.html';
    }
});


    </script>
    
</body>

</html>
